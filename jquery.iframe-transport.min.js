(function(a){a.ajaxPrefilter(function(a){if(a.iframe)return"iframe"});a.ajaxTransport("iframe",function(c){function h(){i.replaceWith(function(a){return f.get(a)});d.remove();b.attr("src","javascript:false;").remove()}var d=null,b=null,g="iframe-"+a.now(),f=a(c.files).filter(":file:enabled"),i=null;c.dataTypes.shift();if(f.length)return d=a("<form enctype='multipart/form-data' method='post'></form>").hide().attr({action:c.url,target:g}),"string"===typeof c.data&&0<c.data.length&&a.error("data must not be serialized"),
a.each(c.data||{},function(b,e){a.isPlainObject(e)&&(b=e.name,e=e.value);a("<input type='hidden' />").attr({name:b,value:e}).appendTo(d)}),a("<input type='hidden' value='IFrame' name='X-Requested-With' />").appendTo(d),i=f.after(function(){return a(this).clone().prop("disabled",!0)}).next(),f.appendTo(d),{send:function(c,e){b=a("<iframe src='javascript:false;' name='"+g+"' id='"+g+"' style='display:none'></iframe>");b.bind("load",function(){b.unbind("load").bind("load",function(){var a=this.contentWindow?
this.contentWindow.document:this.contentDocument?this.contentDocument:this.document,b=a.documentElement?a.documentElement:a.body,c=b.getElementsByTagName("textarea")[0],a=c?c.getAttribute("data-type"):null,d=c?c.getAttribute("data-status"):200,f=c?c.getAttribute("data-statusText"):"OK",b={html:b.innerHTML,text:a?c.value:b?b.textContent||b.innerText:null};h();e(d,f,b,a?"Content-Type: "+a:null)});d[0].submit()});a("body").append(d,b)},abort:function(){null!==b&&(b.unbind("load").attr("src","javascript:false;"),
h())}}})})(jQuery);
